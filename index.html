<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Presente Surpresa üéÅ</title>

<style>
  body {
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    font-family: Arial, sans-serif;
  }

  .item {
    position: absolute;
    cursor: pointer;
    transition: transform 0.2s ease, left 0.3s ease, top 0.3s ease;
  }

  .tremendo {
    animation: shake 0.3s;
  }

  @keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
    100% { transform: translateX(0); }
  }

  #overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.75);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 10;
  }

  #mensagem {
    background: #fff;
    padding: 40px;
    border-radius: 20px;
    max-width: 420px;
    text-align: center;
    animation: zoom 0.5s ease;
  }

  @keyframes zoom {
    from { transform: scale(0); }
    to { transform: scale(1); }
  }

  #rever {
    margin-top: 20px;
    padding: 12px 26px;
    border: none;
    border-radius: 25px;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    color: #fff;
    font-size: 1rem;
    cursor: pointer;
  }

  .confete {
    position: fixed;
    font-size: 1.5rem;
    animation: cair 3s linear forwards;
  }

  @keyframes cair {
    from { transform: translateY(-50px); opacity: 1; }
    to { transform: translateY(100vh); opacity: 0; }
  }
</style>
</head>

<body>

<!-- PRESENTE -->
<div id="presente" class="item">
  <svg width="120" height="120" viewBox="0 0 64 64">
    <rect x="8" y="24" width="48" height="32" rx="6" fill="#e74c3c"/>
    <rect x="30" y="24" width="4" height="32" fill="#f1c40f"/>
    <rect x="8" y="24" width="48" height="6" fill="#c0392b"/>
    <circle cx="28" cy="18" r="4" fill="#f39c12"/>
    <circle cx="36" cy="18" r="4" fill="#f39c12"/>
    <rect x="28" y="18" width="8" height="6" fill="#f1c40f"/>
  </svg>
</div>

<!-- ENVELOPE -->
<div id="envelope" class="item" style="display:none">
  <svg width="140" height="100" viewBox="0 0 64 48">
    <rect x="4" y="10" width="56" height="32" rx="4" fill="#ffeaa7"/>
    <path d="M4 10l28 18L60 10" fill="none" stroke="#fd79a8" stroke-width="3"/>
    <path d="M32 28
             c-3-4-8-2-8 2
             c0 4 8 8 8 8
             c0 0 8-4 8-8
             c0-4-5-6-8-2z"
          fill="#e84393"/>
  </svg>
</div>

<!-- OVERLAY -->
<div id="overlay">
  <div id="mensagem">
    <h2>üéâ Feliz Anivers√°rio! üéÇ</h2>
    <p>
      Que seu dia seja leve, feliz e cheio de amor.<br><br>
      Que esse novo ciclo venha com paz,<br>
      sonhos realizados e muitos sorrisos üíñ‚ú®
    </p>
    <button id="rever">Ver novamente</button>
  </div>
</div>

<!-- SONS -->
<audio id="somFuga">
  <source src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg">
</audio>

<audio id="somFinal">
  <source src="https://actions.google.com/sounds/v1/alarms/celebration_opening.ogg">
</audio>

<audio id="musicaFundo" loop>
  <source src="https://actions.google.com/sounds/v1/ambiences/soft_wind_chimes.ogg">
</audio>

<script>
const presente = document.getElementById('presente');
const envelope = document.getElementById('envelope');
const overlay = document.getElementById('overlay');
const botaoRever = document.getElementById('rever');

const somFuga = document.getElementById('somFuga');
const somFinal = document.getElementById('somFinal');
const musicaFundo = document.getElementById('musicaFundo');

let tentativasPresente = 0;
let tentativasEnvelope = 0;
let musicaIniciada = false;

function mover(el) {
  const margem = 100;
  el.style.left = Math.random() * (window.innerWidth - margem) + 'px';
  el.style.top = Math.random() * (window.innerHeight - margem) + 'px';
}

mover(presente);

presente.addEventListener('click', () => {
  if (!musicaIniciada) {
    musicaFundo.volume = 0.3;
    musicaFundo.play();
    musicaIniciada = true;
  }

  tentativasPresente++;
  presente.style.transform = `scale(${1 + tentativasPresente * 0.06})`;

  if (tentativasPresente < 10) {
    somFuga.play();
    presente.classList.add('tremendo');
    setTimeout(() => presente.classList.remove('tremendo'), 300);
    mover(presente);
  } else {
    presente.style.display = 'none';
    envelope.style.display = 'block';
    mover(envelope);
  }
});

envelope.addEventListener('click', () => {
  tentativasEnvelope++;
  envelope.style.transform = `scale(${1 + tentativasEnvelope * 0.07})`;

  if (tentativasEnvelope < 10) {
    mover(envelope);
  } else {
    somFinal.play();
    musicaFundo.volume = 0.15;
    overlay.style.display = 'flex';

    for (let i = 0; i < 30; i++) {
      setTimeout(() => {
        const c = document.createElement('div');
        c.className = 'confete';
        c.innerText = ['üéâ','‚ú®','üíñ'][Math.floor(Math.random()*3)];
        c.style.left = Math.random() * window.innerWidth + 'px';
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 3000);
      }, i * 100);
    }
  }
});

botaoRever.addEventListener('click', () => location.reload());
</script>

</body>
</html>
